<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AgriBot - Your Farming Assistant</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, #2E7D32 0%, #2E7D32 100%);
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 20px;
    }

    .chat-container {
      width: 100%;
      max-width: 900px;
      height: 90vh;
      background: white;
      border-radius: 20px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }

    .chat-header {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 25px 30px;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .header-left {
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .bot-avatar {
      width: 60px;
      height: 60px;
      background: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    }

    .bot-avatar i {
      font-size: 30px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }

    .bot-info h1 {
      font-size: 24px;
      font-weight: 600;
      margin-bottom: 5px;
    }

    .bot-status {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 14px;
      opacity: 0.9;
    }

    .status-dot {
      width: 8px;
      height: 8px;
      background: #4ade80;
      border-radius: 50%;
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }

    .header-actions {
      display: flex;
      gap: 10px;
    }

    .header-btn {
      width: 40px;
      height: 40px;
      background: rgba(255, 255, 255, 0.2);
      border: none;
      border-radius: 50%;
      color: white;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
    }

    .header-btn:hover {
      background: rgba(255, 255, 255, 0.3);
      transform: scale(1.1);
    }

    .language-selector {
      position: relative;
    }

    .language-dropdown {
      position: absolute;
      top: 50px;
      right: 0;
      background: white;
      border-radius: 10px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      padding: 10px;
      display: none;
      z-index: 1000;
      min-width: 150px;
    }

    .language-dropdown.active {
      display: block;
    }

    .language-option {
      padding: 10px 15px;
      cursor: pointer;
      border-radius: 8px;
      color: #2d3748;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .language-option:hover {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
    }

    .language-option.selected {
      background: rgba(102, 126, 234, 0.1);
      font-weight: 600;
    }

    .chat-messages {
      flex: 1;
      overflow-y: auto;
      padding: 30px;
      background: #f8f9fa;
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    .chat-messages::-webkit-scrollbar {
      width: 8px;
    }

    .chat-messages::-webkit-scrollbar-track {
      background: #e9ecef;
    }

    .chat-messages::-webkit-scrollbar-thumb {
      background: #cbd5e0;
      border-radius: 10px;
    }

    .message {
      display: flex;
      gap: 15px;
      animation: fadeIn 0.4s ease;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .message.user {
      flex-direction: row-reverse;
    }

    .message-avatar {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
      font-weight: 600;
      font-size: 16px;
    }

    .message.bot .message-avatar {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
    }

    .message.user .message-avatar {
      background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
      color: white;
    }

    .message-content {
      max-width: 70%;
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .message-bubble {
      padding: 15px 20px;
      border-radius: 18px;
      line-height: 1.6;
      word-wrap: break-word;
    }

    .message.bot .message-bubble {
      background: white;
      color: #2d3748;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      border-bottom-left-radius: 5px;
    }

    .message.user .message-bubble {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border-bottom-right-radius: 5px;
    }

    .message-time {
      font-size: 11px;
      color: #a0aec0;
      padding: 0 5px;
    }

    .message.user .message-time {
      text-align: right;
    }

    .quick-replies {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 5px;
    }

    .quick-reply-btn {
      background: white;
      border: 2px solid #667eea;
      color: #667eea;
      padding: 8px 16px;
      border-radius: 20px;
      font-size: 14px;
      cursor: pointer;
      transition: all 0.3s ease;
      font-family: 'Poppins', sans-serif;
      font-weight: 500;
    }

    .quick-reply-btn:hover {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
    }

    .typing-indicator {
      display: flex;
      gap: 6px;
      padding: 15px 20px;
      background: white;
      border-radius: 18px;
      border-bottom-left-radius: 5px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      width: fit-content;
    }

    .typing-dot {
      width: 10px;
      height: 10px;
      background: #a0aec0;
      border-radius: 50%;
      animation: typing 1.4s infinite;
    }

    .typing-dot:nth-child(2) {
      animation-delay: 0.2s;
    }

    .typing-dot:nth-child(3) {
      animation-delay: 0.4s;
    }

    @keyframes typing {
      0%, 60%, 100% {
        transform: translateY(0);
        opacity: 0.7;
      }
      30% {
        transform: translateY(-10px);
        opacity: 1;
      }
    }

    .chat-input-area {
      padding: 20px 30px;
      background: white;
      border-top: 1px solid #e2e8f0;
    }

    .input-wrapper {
      display: flex;
      gap: 15px;
      align-items: center;
    }

    .chat-input {
      flex: 1;
      border: 2px solid #e2e8f0;
      border-radius: 25px;
      padding: 15px 25px;
      font-size: 15px;
      font-family: 'Poppins', sans-serif;
      outline: none;
      transition: all 0.3s ease;
    }

    .chat-input:focus {
      border-color: #667eea;
      box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1);
    }

    .send-btn {
      width: 50px;
      height: 50px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border: none;
      border-radius: 50%;
      color: white;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
      font-size: 18px;
    }

    .send-btn:hover {
      transform: scale(1.1) rotate(15deg);
      box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
    }

    .send-btn:active {
      transform: scale(0.95);
    }

    .send-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    .suggestions-area {
      padding: 15px 30px 0;
      background: white;
    }

    .suggestions-title {
      font-size: 13px;
      color: #718096;
      margin-bottom: 10px;
      font-weight: 500;
    }

    .suggestions {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      padding-bottom: 15px;
    }

    .suggestion-chip {
      background: #f7fafc;
      border: 1px solid #e2e8f0;
      padding: 8px 16px;
      border-radius: 20px;
      font-size: 13px;
      color: #4a5568;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .suggestion-chip:hover {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border-color: transparent;
      transform: translateY(-2px);
    }

    .welcome-screen {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: 40px;
      gap: 20px;
    }

    .welcome-icon {
      width: 120px;
      height: 120px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 10px 40px rgba(102, 126, 234, 0.3);
    }

    .welcome-icon i {
      font-size: 60px;
      color: white;
    }

    .welcome-text h2 {
      font-size: 28px;
      color: #2d3748;
      margin-bottom: 10px;
    }

    .welcome-text p {
      font-size: 16px;
      color: #718096;
      line-height: 1.6;
    }

    .feature-cards {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 15px;
      margin-top: 30px;
      width: 100%;
    }

    .feature-card {
      background: white;
      padding: 20px;
      border-radius: 15px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .feature-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 30px rgba(102, 126, 234, 0.2);
    }

    .feature-icon {
      width: 50px;
      height: 50px;
      background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 15px;
    }

    .feature-icon i {
      font-size: 24px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }

    .feature-card h3 {
      font-size: 16px;
      color: #2d3748;
      margin-bottom: 8px;
    }

    .feature-card p {
      font-size: 13px;
      color: #718096;
      line-height: 1.5;
    }

    @media (max-width: 768px) {
      .chat-container {
        height: 100vh;
        max-width: 100%;
        border-radius: 0;
      }

      .chat-header {
        padding: 20px;
      }

      .bot-info h1 {
        font-size: 20px;
      }

      .chat-messages {
        padding: 20px;
      }

      .message-content {
        max-width: 85%;
      }

      .feature-cards {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <div class="chat-container">
    <div class="chat-header">
      <div class="header-left">
        <div class="bot-avatar">
          <i class="fas fa-robot"></i>
        </div>
        <div class="bot-info">
          <h1 id="botTitle">AgriBot Assistant</h1>
          <div class="bot-status">
            <div class="status-dot"></div>
            <span id="botStatus">Online & Ready to Help</span>
          </div>
        </div>
      </div>
      <div class="header-actions">
        <div class="language-selector">
          <button class="header-btn" onclick="toggleLanguageDropdown()" title="Change Language">
            <i class="fas fa-language"></i>
          </button>
          <div class="language-dropdown" id="languageDropdown">
            <div class="language-option selected" onclick="changeLanguage('en')">
              <i class="fas fa-globe"></i> English
            </div>
            <div class="language-option" onclick="changeLanguage('hi')">
              <i class="fas fa-globe"></i> рд╣рд┐рдВрджреА
            </div>
            <div class="language-option" onclick="changeLanguage('mr')">
              <i class="fas fa-globe"></i> рдорд░рд╛рдареА
            </div>
          </div>
        </div>
        <button class="header-btn" onclick="clearChat()" title="Clear Chat">
          <i class="fas fa-trash"></i>
        </button>
        <button class="header-btn" onclick="toggleInfo()" title="Information">
          <i class="fas fa-info-circle"></i>
        </button>
      </div>
    </div>

    <div class="chat-messages" id="chatMessages">
      <div class="welcome-screen" id="welcomeScreen">
        <!-- Will be populated by JavaScript -->
      </div>
    </div>

    <div class="suggestions-area" id="suggestionsArea" style="display: none;">
      <div class="suggestions-title" id="suggestionsTitle">ЁЯТб Suggested topics:</div>
      <div class="suggestions" id="suggestionsContainer">
        <!-- Will be populated by JavaScript -->
      </div>
    </div>

    <div class="chat-input-area">
      <div class="input-wrapper">
        <input 
          type="text" 
          class="chat-input" 
          id="chatInput" 
          placeholder="Ask me anything about farming..."
          onkeypress="handleKeyPress(event)"
        />
        <button class="send-btn" onclick="sendMessage()" id="sendBtn">
          <i class="fas fa-paper-plane"></i>
        </button>
      </div>
    </div>
  </div>

  <script>
    let messageCount = 0;
    let currentLanguage = 'en';

    const translations = {
      en: {
        botTitle: "AgriBot Assistant",
        botStatus: "Online & Ready to Help",
        inputPlaceholder: "Ask me anything about farming...",
        welcomeTitle: "Welcome to AgriBot! ЁЯМ╛",
        welcomeDesc: "Your intelligent farming assistant. I can help you with crop management, pest control, government schemes, market prices, and much more!",
        suggestionsTitle: "ЁЯТб Suggested topics:",
        features: [
          { title: "Organic Farming", desc: "Learn sustainable farming practices", query: "Tell me about organic farming", icon: "leaf" },
          { title: "Govt Schemes", desc: "Explore subsidies and benefits", query: "What are the government schemes for farmers?", icon: "landmark" },
          { title: "Pest Control", desc: "Natural pest management tips", query: "How to control pests naturally?", icon: "bug" },
          { title: "Market Prices", desc: "Get real-time market updates", query: "Show me current crop prices", icon: "chart-line" }
        ],
        suggestions: [
          { text: "Irrigation", icon: "droplet", query: "Drip irrigation benefits" },
          { text: "Soil Health", icon: "flask", query: "Soil health tips" },
          { text: "Weather", icon: "cloud-sun", query: "Weather forecast" },
          { text: "Crop Rotation", icon: "rotate", query: "Crop rotation" }
        ]
      },
      hi: {
        botTitle: "рдПрдЧреНрд░реАрдмреЙрдЯ рд╕рд╣рд╛рдпрдХ",
        botStatus: "рдСрдирд▓рд╛рдЗрди рдФрд░ рдорджрдж рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░",
        inputPlaceholder: "рдЦреЗрддреА рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдХреБрдЫ рднреА рдкреВрдЫреЗрдВ...",
        welcomeTitle: "рдПрдЧреНрд░реАрдмреЙрдЯ рдореЗрдВ рдЖрдкрдХрд╛ рд╕реНрд╡рд╛рдЧрдд рд╣реИ! ЁЯМ╛",
        welcomeDesc: "рдЖрдкрдХрд╛ рдмреБрджреНрдзрд┐рдорд╛рди рдЦреЗрддреА рд╕рд╣рд╛рдпрдХред рдореИрдВ рдлрд╕рд▓ рдкреНрд░рдмрдВрдзрди, рдХреАрдЯ рдирд┐рдпрдВрддреНрд░рдг, рд╕рд░рдХрд╛рд░реА рдпреЛрдЬрдирд╛рдУрдВ, рдмрд╛рдЬрд╛рд░ рдореВрд▓реНрдп рдФрд░ рдмрд╣реБрдд рдХреБрдЫ рдореЗрдВ рдЖрдкрдХреА рдорджрдж рдХрд░ рд╕рдХрддрд╛ рд╣реВрдВ!",
        suggestionsTitle: "ЁЯТб рд╕реБрдЭрд╛рдП рдЧрдП рд╡рд┐рд╖рдп:",
        features: [
          { title: "рдЬреИрд╡рд┐рдХ рдЦреЗрддреА", desc: "рдЯрд┐рдХрд╛рдК рдЦреЗрддреА рдХреЗ рддрд░реАрдХреЗ рд╕реАрдЦреЗрдВ", query: "рдЬреИрд╡рд┐рдХ рдЦреЗрддреА рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдмрддрд╛рдПрдВ", icon: "leaf" },
          { title: "рд╕рд░рдХрд╛рд░реА рдпреЛрдЬрдирд╛рдПрдВ", desc: "рд╕рдмреНрд╕рд┐рдбреА рдФрд░ рд▓рд╛рдн рдЬрд╛рдиреЗрдВ", query: "рдХрд┐рд╕рд╛рдиреЛрдВ рдХреЗ рд▓рд┐рдП рд╕рд░рдХрд╛рд░реА рдпреЛрдЬрдирд╛рдПрдВ рдХреНрдпрд╛ рд╣реИрдВ?", icon: "landmark" },
          { title: "рдХреАрдЯ рдирд┐рдпрдВрддреНрд░рдг", desc: "рдкреНрд░рд╛рдХреГрддрд┐рдХ рдХреАрдЯ рдкреНрд░рдмрдВрдзрди рдпреБрдХреНрддрд┐рдпрд╛рдБ", query: "рдХреАрдЯреЛрдВ рдХреЛ рдкреНрд░рд╛рдХреГрддрд┐рдХ рд░реВрдк рд╕реЗ рдХреИрд╕реЗ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░реЗрдВ?", icon: "bug" },
          { title: "рдмрд╛рдЬрд╛рд░ рдореВрд▓реНрдп", desc: "рд╡рд╛рд╕реНрддрд╡рд┐рдХ рд╕рдордп рдмрд╛рдЬрд╛рд░ рдЕрдкрдбреЗрдЯ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ", query: "рд╡рд░реНрддрдорд╛рди рдлрд╕рд▓ рдХреА рдХреАрдорддреЗрдВ рджрд┐рдЦрд╛рдПрдВ", icon: "chart-line" }
        ],
        suggestions: [
          { text: "рд╕рд┐рдВрдЪрд╛рдИ", icon: "droplet", query: "рдбреНрд░рд┐рдк рд╕рд┐рдВрдЪрд╛рдИ рдХреЗ рд▓рд╛рдн" },
          { text: "рдорд┐рдЯреНрдЯреА рд╕реНрд╡рд╛рд╕реНрдереНрдп", icon: "flask", query: "рдорд┐рдЯреНрдЯреА рд╕реНрд╡рд╛рд╕реНрдереНрдп рд╕реБрдЭрд╛рд╡" },
          { text: "рдореМрд╕рдо", icon: "cloud-sun", query: "рдореМрд╕рдо рдкреВрд░реНрд╡рд╛рдиреБрдорд╛рди" },
          { text: "рдлрд╕рд▓ рдЪрдХреНрд░", icon: "rotate", query: "рдлрд╕рд▓ рдЪрдХреНрд░рдг" }
        ]
      },
      mr: {
        botTitle: "рдПрдЧреНрд░реАрдмреЙрдЯ рд╕рд╣рд╛рдпреНрдпрдХ",
        botStatus: "рдСрдирд▓рд╛рдЗрди рдЖрдгрд┐ рдорджрддреАрд╕рд╛рдареА рддрдпрд╛рд░",
        inputPlaceholder: "рд╢реЗрддреАрд╡рд┐рд╖рдпреА рдХрд╛рд╣реАрд╣реА рд╡рд┐рдЪрд╛рд░рд╛...",
        welcomeTitle: "рдПрдЧреНрд░реАрдмреЙрдЯрдордзреНрдпреЗ рдЖрдкрд▓реЗ рд╕реНрд╡рд╛рдЧрдд рдЖрд╣реЗ! ЁЯМ╛",
        welcomeDesc: "рддреБрдордЪрд╛ рдмреБрджреНрдзрд┐рдорд╛рди рд╢реЗрддреА рд╕рд╣рд╛рдпреНрдпрдХ. рдореА рдкреАрдХ рд╡реНрдпрд╡рд╕реНрдерд╛рдкрди, рдХреАрдЯрдХ рдирд┐рдпрдВрддреНрд░рдг, рд╕рд░рдХрд╛рд░реА рдпреЛрдЬрдирд╛, рдмрд╛рдЬрд╛рд░ рдХрд┐рдВрдорддреА рдЖрдгрд┐ рдмрд░реЗрдЪ рдХрд╛рд╣реА рдпрд╛рдд рддреБрдореНрд╣рд╛рд▓рд╛ рдорджрдд рдХрд░реВ рд╢рдХрддреЛ!",
        suggestionsTitle: "ЁЯТб рд╕реБрдЪрд╡рд▓реЗрд▓реЗ рд╡рд┐рд╖рдп:",
        features: [
          { title: "рд╕реЗрдВрджреНрд░рд┐рдп рд╢реЗрддреА", desc: "рд╢рд╛рд╢реНрд╡рдд рд╢реЗрддреА рдкрджреНрдзрддреА рд╢рд┐рдХрд╛", query: "рд╕реЗрдВрджреНрд░рд┐рдп рд╢реЗрддреАрдмрджреНрджрд▓ рд╕рд╛рдВрдЧрд╛", icon: "leaf" },
          { title: "рд╕рд░рдХрд╛рд░реА рдпреЛрдЬрдирд╛", desc: "рдЕрдиреБрджрд╛рди рдЖрдгрд┐ рдлрд╛рдпрджреЗ рд╢реЛрдзрд╛", query: "рд╢реЗрддрдХрд▒реНрдпрд╛рдВрд╕рд╛рдареА рд╕рд░рдХрд╛рд░реА рдпреЛрдЬрдирд╛ рдХрд╛рдп рдЖрд╣реЗрдд?", icon: "landmark" },
          { title: "рдХреАрдЯрдХ рдирд┐рдпрдВрддреНрд░рдг", desc: "рдиреИрд╕рд░реНрдЧрд┐рдХ рдХреАрдЯрдХ рд╡реНрдпрд╡рд╕реНрдерд╛рдкрди рдЯрд┐рдкрд╛", query: "рдХреАрдЯрдХрд╛рдВрдирд╛ рдиреИрд╕рд░реНрдЧрд┐рдХрд░рд┐рддреНрдпрд╛ рдХрд╕реЗ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рд╛рд╡реЗ?", icon: "bug" },
          { title: "рдмрд╛рдЬрд╛рд░ рдХрд┐рдВрдорддреА", desc: "рд░рд┐рдЕрд▓-рдЯрд╛рдЗрдо рдмрд╛рдЬрд╛рд░ рдЕрдкрдбреЗрдЯ рдорд┐рд│рд╡рд╛", query: "рд╕рдзреНрдпрд╛рдЪреНрдпрд╛ рдкрд┐рдХрд╛рдЪреНрдпрд╛ рдХрд┐рдорддреА рджрд╛рдЦрд╡рд╛", icon: "chart-line" }
        ],
        suggestions: [
          { text: "рд╕рд┐рдВрдЪрди", icon: "droplet", query: "рдереЗрдВрдм рд╕рд┐рдВрдЪрдирд╛рдЪреЗ рдлрд╛рдпрджреЗ" },
          { text: "рдорд╛рддреА рдЖрд░реЛрдЧреНрдп", icon: "flask", query: "рдорд╛рддреА рдЖрд░реЛрдЧреНрдп рдЯрд┐рдкрд╛" },
          { text: "рд╣рд╡рд╛рдорд╛рди", icon: "cloud-sun", query: "рд╣рд╡рд╛рдорд╛рди рдЕрдВрджрд╛рдЬ" },
          { text: "рдкреАрдХ рдЪрдХреНрд░", icon: "rotate", query: "рдкреАрдХ рдЪрдХреНрд░рдг" }
        ]
      }
    };

    const responses = {
      en: {
        organic: {
          text: `ЁЯМ┐ <strong>Organic Farming Guide</strong><br><br>
          Organic farming uses natural methods without synthetic chemicals. Here are the key benefits:<br><br>
          тЬЕ <strong>Better Soil Health:</strong> Natural composting improves soil structure<br>
          тЬЕ <strong>Higher Prices:</strong> 20-30% premium in market<br>
          тЬЕ <strong>Government Support:</strong> Special subsidies available<br>
          тЬЕ <strong>Eco-friendly:</strong> Sustainable for environment<br><br>
          Would you like to know about certification or specific techniques?`,
          quickReplies: ['Certification process', 'Organic pest control', 'Composting methods']
        },
        government: {
          text: `ЁЯПЫя╕П <strong>Government Schemes for Farmers</strong><br><br>
          <strong>1. PM-KISAN:</strong> тВ╣6,000/year direct benefit transfer<br>
          <strong>2. Soil Health Card:</strong> Free soil testing services<br>
          <strong>3. PM Fasal Bima Yojana:</strong> Crop insurance at subsidized rates<br>
          <strong>4. Kisan Credit Card:</strong> Easy credit access<br>
          <strong>5. Drip Irrigation Subsidy:</strong> 60-80% subsidy available<br><br>
          Which scheme would you like to know more about?`,
          quickReplies: ['PM-KISAN details', 'Crop insurance', 'KCC benefits']
        },
        pest: {
          text: `ЁЯРЫ <strong>Effective Pest Control Methods</strong><br><br>
          <strong>Organic Solutions:</strong><br>
          ЁЯМ┐ Neem oil spray (5ml per liter of water)<br>
          ЁЯМ╕ Companion planting (marigold with vegetables)<br>
          ЁЯжЧ Pheromone traps for specific pests<br><br>
          <strong>Preventive Measures:</strong><br>
          тЬЕ Crop rotation every season<br>
          тЬЕ Maintain field hygiene<br>
          тЬЕ Regular monitoring<br>
          тЬЕ Use resistant varieties<br><br>
          What type of pest are you dealing with?`,
          quickReplies: ['Aphids control', 'Fungal diseases', 'Caterpillar management']
        },
        hello: {
          text: `Hello! ЁЯСЛ Welcome to AgriBot! I'm here to help you with all your farming needs. How can I assist you today?`,
          quickReplies: ['Government schemes', 'Pest control tips', 'Market prices', 'Irrigation methods']
        },
        thanks: {
          text: `You're welcome! ЁЯШК I'm always here to help. Feel free to ask if you have more questions about farming!`,
          quickReplies: ['Ask another question', 'Government schemes', 'Crop tips']
        }
      },
      hi: {
        organic: {
          text: `ЁЯМ┐ <strong>рдЬреИрд╡рд┐рдХ рдЦреЗрддреА рдЧрд╛рдЗрдб</strong><br><br>
          рдЬреИрд╡рд┐рдХ рдЦреЗрддреА рдореЗрдВ рд╕рд┐рдВрдереЗрдЯрд┐рдХ рд░рд╕рд╛рдпрдиреЛрдВ рдХреЗ рдмрд┐рдирд╛ рдкреНрд░рд╛рдХреГрддрд┐рдХ рддрд░реАрдХреЗ рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВред рдпрд╣рд╛рдБ рдореБрдЦреНрдп рд▓рд╛рдн рд╣реИрдВ:<br><br>
          тЬЕ <strong>рдмреЗрд╣рддрд░ рдорд┐рдЯреНрдЯреА рд╕реНрд╡рд╛рд╕реНрдереНрдп:</strong> рдкреНрд░рд╛рдХреГрддрд┐рдХ рдЦрд╛рдж рдорд┐рдЯреНрдЯреА рдХреА рд╕рдВрд░рдЪрдирд╛ рдореЗрдВ рд╕реБрдзрд╛рд░ рдХрд░рддреА рд╣реИ<br>
          тЬЕ <strong>рдЙрдЪреНрдЪ рдХреАрдорддреЗрдВ:</strong> рдмрд╛рдЬрд╛рд░ рдореЗрдВ 20-30% рдкреНрд░реАрдорд┐рдпрдо<br>
          тЬЕ <strong>рд╕рд░рдХрд╛рд░реА рд╕рдорд░реНрдерди:</strong> рд╡рд┐рд╢реЗрд╖ рд╕рдмреНрд╕рд┐рдбреА рдЙрдкрд▓рдмреНрдз<br>
          тЬЕ <strong>рдкрд░реНрдпрд╛рд╡рд░рдг-рдЕрдиреБрдХреВрд▓:</strong> рдкрд░реНрдпрд╛рд╡рд░рдг рдХреЗ рд▓рд┐рдП рдЯрд┐рдХрд╛рдК<br><br>
          рдХреНрдпрд╛ рдЖрдк рдкреНрд░рдорд╛рдгрди рдпрд╛ рд╡рд┐рд╢рд┐рд╖реНрдЯ рддрдХрдиреАрдХреЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирдирд╛ рдЪрд╛рд╣реЗрдВрдЧреЗ?`,
          quickReplies: ['рдкреНрд░рдорд╛рдгрди рдкреНрд░рдХреНрд░рд┐рдпрд╛', 'рдЬреИрд╡рд┐рдХ рдХреАрдЯ рдирд┐рдпрдВрддреНрд░рдг', 'рдЦрд╛рдж рдмрдирд╛рдиреЗ рдХреЗ рддрд░реАрдХреЗ']
        },
        government: {
          text: `ЁЯПЫя╕П <strong>рдХрд┐рд╕рд╛рдиреЛрдВ рдХреЗ рд▓рд┐рдП рд╕рд░рдХрд╛рд░реА рдпреЛрдЬрдирд╛рдПрдВ</strong><br><br>
          <strong>1. рдкреАрдПрдо-рдХрд┐рд╕рд╛рди:</strong><strong>2. рдорд┐рдЯреНрдЯреА рд╕реНрд╡рд╛рд╕реНрдереНрдп рдХрд╛рд░реНрдб:</strong> рдореБрдлреНрдд рдорд┐рдЯреНрдЯреА рдкрд░реАрдХреНрд╖рдг рд╕реЗрд╡рд╛рдПрдВ<br>
          <strong>3. рдкреАрдПрдо рдлрд╕рд▓ рдмреАрдорд╛ рдпреЛрдЬрдирд╛:</strong> рд╕рдмреНрд╕рд┐рдбреА рджрд░реЛрдВ рдкрд░ рдлрд╕рд▓ рдмреАрдорд╛<br>
          <strong>4. рдХрд┐рд╕рд╛рди рдХреНрд░реЗрдбрд┐рдЯ рдХрд╛рд░реНрдб:</strong> рдЖрд╕рд╛рди рдЛрдг рдкрд╣реБрдВрдЪ<br>
          <strong>5. рдбреНрд░рд┐рдк рд╕рд┐рдВрдЪрд╛рдИ рд╕рдмреНрд╕рд┐рдбреА:</strong> 60-80% рд╕рдмреНрд╕рд┐рдбреА рдЙрдкрд▓рдмреНрдз<br><br>
          рдЖрдк рдХрд┐рд╕ рдпреЛрдЬрдирд╛ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рдХ рдЬрд╛рдирдирд╛ рдЪрд╛рд╣реЗрдВрдЧреЗ?`,
          quickReplies: ['рдкреАрдПрдо-рдХрд┐рд╕рд╛рди рд╡рд┐рд╡рд░рдг', 'рдлрд╕рд▓ рдмреАрдорд╛', 'рдХреЗрд╕реАрд╕реА рд▓рд╛рдн']
        },
        pest: {
          text: `ЁЯРЫ <strong>рдкреНрд░рднрд╛рд╡реА рдХреАрдЯ рдирд┐рдпрдВрддреНрд░рдг рд╡рд┐рдзрд┐рдпрд╛рдВ</strong><br><br>
          <strong>рдЬреИрд╡рд┐рдХ рд╕рдорд╛рдзрд╛рди:</strong><br>
          ЁЯМ┐ рдиреАрдо рддреЗрд▓ рд╕реНрдкреНрд░реЗ (5 рдорд┐рд▓реА рдкреНрд░рддрд┐ рд▓реАрдЯрд░ рдкрд╛рдиреА)<br>
          ЁЯМ╕ рд╕рд╛рдереА рд░реЛрдкрдг (рд╕рдмреНрдЬрд┐рдпреЛрдВ рдХреЗ рд╕рд╛рде рдЧреЗрдВрджрд╛)<br>
          ЁЯжЧ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдХреАрдЯреЛрдВ рдХреЗ рд▓рд┐рдП рдлреЗрд░реЛрдореЛрди рдЯреНрд░реИрдк<br><br>
          <strong>рдирд┐рд╡рд╛рд░рдХ рдЙрдкрд╛рдп:</strong><br>
          тЬЕ рд╣рд░ рдореМрд╕рдо рдлрд╕рд▓ рдЪрдХреНрд░рдг<br>
          тЬЕ рдЦреЗрдд рдХреА рд╕реНрд╡рдЪреНрдЫрддрд╛ рдмрдирд╛рдП рд░рдЦреЗрдВ<br>
          тЬЕ рдирд┐рдпрдорд┐рдд рдирд┐рдЧрд░рд╛рдиреА<br>
          тЬЕ рдкреНрд░рддрд┐рд░реЛрдзреА рдХрд┐рд╕реНрдореЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ<br><br>
          рдЖрдк рдХрд┐рд╕ рдкреНрд░рдХрд╛рд░ рдХреЗ рдХреАрдЯ рд╕реЗ рдирд┐рдкрдЯ рд░рд╣реЗ рд╣реИрдВ?`,
          quickReplies: ['рдПрдлрд┐рдбреНрд╕ рдирд┐рдпрдВрддреНрд░рдг', 'рдлрдВрдЧрд▓ рд░реЛрдЧ', 'рдХреИрдЯрд░рдкрд┐рд▓рд░ рдкреНрд░рдмрдВрдзрди']
        },
        hello: {
          text: `рдирдорд╕реНрддреЗ! ЁЯСЛ рдПрдЧреНрд░реАрдмреЙрдЯ рдореЗрдВ рдЖрдкрдХрд╛ рд╕реНрд╡рд╛рдЧрдд рд╣реИ! рдореИрдВ рдЖрдкрдХреА рд╕рднреА рдЦреЗрддреА рд╕рдВрдмрдВрдзреА рдЬрд░реВрд░рддреЛрдВ рдореЗрдВ рдорджрдж рдХреЗ рд▓рд┐рдП рдпрд╣рд╛рдВ рд╣реВрдВред рдЖрдЬ рдореИрдВ рдЖрдкрдХреА рдХреИрд╕реЗ рд╕рд╣рд╛рдпрддрд╛ рдХрд░ рд╕рдХрддрд╛ рд╣реВрдВ?`,
          quickReplies: ['рд╕рд░рдХрд╛рд░реА рдпреЛрдЬрдирд╛рдПрдВ', 'рдХреАрдЯ рдирд┐рдпрдВрддреНрд░рдг рдЯрд┐рдкреНрд╕', 'рдмрд╛рдЬрд╛рд░ рдореВрд▓реНрдп', 'рд╕рд┐рдВрдЪрд╛рдИ рд╡рд┐рдзрд┐рдпрд╛рдВ']
        },
        thanks: {
          text: `рдЖрдкрдХрд╛ рд╕реНрд╡рд╛рдЧрдд рд╣реИ! ЁЯШК рдореИрдВ рд╣рдореЗрд╢рд╛ рдорджрдж рдХреЗ рд▓рд┐рдП рдпрд╣рд╛рдВ рд╣реВрдВред рдЦреЗрддреА рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рдХ рд╕рд╡рд╛рд▓ рд╣реЛрдВ рддреЛ рдмреЗрдЭрд┐рдЭрдХ рдкреВрдЫреЗрдВ!`,
          quickReplies: ['рджреВрд╕рд░рд╛ рд╕рд╡рд╛рд▓ рдкреВрдЫреЗрдВ', 'рд╕рд░рдХрд╛рд░реА рдпреЛрдЬрдирд╛рдПрдВ', 'рдлрд╕рд▓ рдЯрд┐рдкреНрд╕']
        }
      },
      mr: {
        organic: {
          text: `ЁЯМ┐ <strong>рд╕реЗрдВрджреНрд░рд┐рдп рд╢реЗрддреА рдорд╛рд░реНрдЧрджрд░реНрд╢рдХ</strong><br><br>
          рд╕реЗрдВрджреНрд░рд┐рдп рд╢реЗрддреАрдордзреНрдпреЗ рд╕рд┐рдВрдереЗрдЯрд┐рдХ рд░рд╕рд╛рдпрдирд╛рдВрд╢рд┐рд╡рд╛рдп рдиреИрд╕рд░реНрдЧрд┐рдХ рдкрджреНрдзрддреА рд╡рд╛рдкрд░рд▓реНрдпрд╛ рдЬрд╛рддрд╛рдд. рдпреЗрдереЗ рдореБрдЦреНрдп рдлрд╛рдпрджреЗ рдЖрд╣реЗрдд:<br><br>
          тЬЕ <strong>рдЪрд╛рдВрдЧрд▓реЗ рдорд╛рддреА рдЖрд░реЛрдЧреНрдп:</strong> рдиреИрд╕рд░реНрдЧрд┐рдХ рдХрдВрдкреЛрд╕реНрдЯрд┐рдВрдЧ рдорд╛рддреА рд╕рдВрд░рдЪрдирд╛ рд╕реБрдзрд╛рд░рддреЗ<br>
          тЬЕ <strong>рдЙрдЪреНрдЪ рдХрд┐рдВрдорддреА:</strong> рдмрд╛рдЬрд╛рд░рд╛рдд 20-30% рдкреНрд░реАрдорд┐рдпрдо<br>
          тЬЕ <strong>рд╕рд░рдХрд╛рд░реА рд╕рдорд░реНрдерди:</strong> рд╡рд┐рд╢реЗрд╖ рдЕрдиреБрджрд╛рди рдЙрдкрд▓рдмреНрдз<br>
          тЬЕ <strong>рдкрд░реНрдпрд╛рд╡рд░рдг-рдЕрдиреБрдХреВрд▓:</strong> рдкрд░реНрдпрд╛рд╡рд░рдгрд╛рд╕рд╛рдареА рд╢рд╛рд╢реНрд╡рдд<br><br>
          рддреБрдореНрд╣рд╛рд▓рд╛ рдкреНрд░рдорд╛рдгрди рдХрд┐рдВрд╡рд╛ рд╡рд┐рд╢рд┐рд╖реНрдЯ рддрдВрддреНрд░рд╛рдВрдмрджреНрджрд▓ рдЬрд╛рдгреВрди рдШреНрдпрд╛рдпрдЪреЗ рдЖрд╣реЗ рдХрд╛?`,
          quickReplies: ['рдкреНрд░рдорд╛рдгрди рдкреНрд░рдХреНрд░рд┐рдпрд╛', 'рд╕реЗрдВрджреНрд░рд┐рдп рдХреАрдЯрдХ рдирд┐рдпрдВрддреНрд░рдг', 'рдЦрдд рдмрдирд╡рдгреНрдпрд╛рдЪреНрдпрд╛ рдкрджреНрдзрддреА']
        },
        government: {
          text: `ЁЯПЫя╕П <strong>рд╢реЗрддрдХрд▒реНрдпрд╛рдВрд╕рд╛рдареА рд╕рд░рдХрд╛рд░реА рдпреЛрдЬрдирд╛</strong><br><br>
          <strong>1. рдкреАрдПрдо-рдХрд┐рд╕рд╛рди:</strong> тВ╣6,000/рд╡рд░реНрд╖ рдереЗрдЯ рд▓рд╛рдн рд╣рд╕реНрддрд╛рдВрддрд░рдг<br>
          <strong>2. рдорд╛рддреА рдЖрд░реЛрдЧреНрдп рдХрд╛рд░реНрдб:</strong> рдореЛрдлрдд рдорд╛рддреА рдЪрд╛рдЪрдгреА рд╕реЗрд╡рд╛<br>
          <strong>3. рдкреАрдПрдо рдлрд╕рд▓ рдмрд┐рдорд╛ рдпреЛрдЬрдирд╛:</strong> рд╕рд╡рд▓рддреАрдЪреНрдпрд╛ рджрд░рд╛рдд рдкреАрдХ рд╡рд┐рдорд╛<br>
          <strong>4. рдХрд┐рд╕рд╛рди рдХреНрд░реЗрдбрд┐рдЯ рдХрд╛рд░реНрдб:</strong> рд╕реБрд▓рдн рдХрд░реНрдЬ рдкреНрд░рд╡реЗрд╢<br>
          <strong>5. рдереЗрдВрдм рд╕рд┐рдВрдЪрди рдЕрдиреБрджрд╛рди:</strong> 60-80% рдЕрдиреБрджрд╛рди рдЙрдкрд▓рдмреНрдз<br><br>
          рддреБрдореНрд╣рд╛рд▓рд╛ рдХреЛрдгрддреНрдпрд╛ рдпреЛрдЬрдиреЗрдмрджреНрджрд▓ рдЕрдзрд┐рдХ рдЬрд╛рдгреВрди рдШреНрдпрд╛рдпрдЪреЗ рдЖрд╣реЗ?`,
          quickReplies: ['рдкреАрдПрдо-рдХрд┐рд╕рд╛рди рддрдкрд╢реАрд▓', 'рдкреАрдХ рд╡рд┐рдорд╛', 'рдХреЗрд╕реАрд╕реА рдлрд╛рдпрджреЗ']
        },
        pest: {
          text: `ЁЯРЫ <strong>рдкреНрд░рднрд╛рд╡реА рдХреАрдЯрдХ рдирд┐рдпрдВрддреНрд░рдг рдкрджреНрдзрддреА</strong><br><br>
          <strong>рд╕реЗрдВрджреНрд░рд┐рдп рдЙрдкрд╛рдп:</strong><br>
          ЁЯМ┐ рдХрдбреБрдирд┐рдВрдм рддреЗрд▓ рдлрд╡рд╛рд░рдгреА (5 рдорд┐рд▓реА рдкреНрд░рддрд┐ рд▓рд┐рдЯрд░ рдкрд╛рдгреА)<br>
          ЁЯМ╕ рд╕рд╣рдЪрд░ рд▓рд╛рдЧрд╡рдб (рднрд╛рдЬреНрдпрд╛рдВрд╕рд╣ рдЭреЗрдВрдбреВ)<br>
          ЁЯжЧ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдХреАрдЯрдХрд╛рдВрд╕рд╛рдареА рдлреЗрд░реЛрдореЛрди рд╕рд╛рдкрд│реЗ<br><br>
          <strong>рдкреНрд░рддрд┐рдмрдВрдзрд╛рддреНрдордХ рдЙрдкрд╛рдп:</strong><br>
          тЬЕ рдкреНрд░рддреНрдпреЗрдХ рд╣рдВрдЧрд╛рдорд╛рдд рдкреАрдХ рдЪрдХреНрд░рдг<br>
          тЬЕ рд╢реЗрддрд╛рдЪреА рд╕реНрд╡рдЪреНрдЫрддрд╛ рд░рд╛рдЦрд╛<br>
          тЬЕ рдирд┐рдпрдорд┐рдд рдирд┐рд░реАрдХреНрд╖рдг<br>
          тЬЕ рдкреНрд░рддрд┐рд░реЛрдзрдХ рдЬрд╛рддреА рд╡рд╛рдкрд░рд╛<br><br>
          рддреБрдореНрд╣реА рдХреЛрдгрддреНрдпрд╛ рдкреНрд░рдХрд╛рд░рдЪреНрдпрд╛ рдХреАрдЯрдХрд╛рд╢реА рд╕рд╛рдордирд╛ рдХрд░рдд рдЖрд╣рд╛рдд?`,
          quickReplies: ['рдНрдлрд┐рдбреНрд╕ рдирд┐рдпрдВрддреНрд░рдг', 'рдмреБрд░рд╢реАрдЬрдиреНрдп рд░реЛрдЧ', 'рд╕реБрд░рд╡рдВрдЯ рд╡реНрдпрд╡рд╕реНрдерд╛рдкрди']
        },
        hello: {
          text: `рдирдорд╕реНрдХрд╛рд░! ЁЯСЛ рдПрдЧреНрд░реАрдмреЙрдЯрдордзреНрдпреЗ рдЖрдкрд▓реЗ рд╕реНрд╡рд╛рдЧрдд рдЖрд╣реЗ! рдореА рддреБрдордЪреНрдпрд╛ рд╕рд░реНрд╡ рд╢реЗрддреА рдЧрд░рдЬрд╛рдВрдордзреНрдпреЗ рдорджрдд рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдпреЗрдереЗ рдЖрд╣реЗ. рдЖрдЬ рдореА рддреБрдореНрд╣рд╛рд▓рд╛ рдХрд╢реА рдорджрдд рдХрд░реВ рд╢рдХрддреЛ?`,
          quickReplies: ['рд╕рд░рдХрд╛рд░реА рдпреЛрдЬрдирд╛', 'рдХреАрдЯрдХ рдирд┐рдпрдВрддреНрд░рдг рдЯрд┐рдкрд╛', 'рдмрд╛рдЬрд╛рд░ рдХрд┐рдВрдорддреА', 'рд╕рд┐рдВрдЪрди рдкрджреНрдзрддреА']
        },
        thanks: {
          text: `рддреБрдордЪреЗ рд╕реНрд╡рд╛рдЧрдд рдЖрд╣реЗ! ЁЯШК рдореА рдиреЗрд╣рдореА рдорджрддреАрд╕рд╛рдареА рдпреЗрдереЗ рдЖрд╣реЗ. рд╢реЗрддреАрдмрджреНрджрд▓ рдЕрдзрд┐рдХ рдкреНрд░рд╢реНрди рдЕрд╕рд▓реНрдпрд╛рд╕ рд╡рд┐рдЪрд╛рд░рдгреНрдпрд╛рд╕ рдореЛрдХрд│реЗ рд░рд╣рд╛!`,
          quickReplies: ['рджреБрд╕рд░рд╛ рдкреНрд░рд╢реНрди рд╡рд┐рдЪрд╛рд░рд╛', 'рд╕рд░рдХрд╛рд░реА рдпреЛрдЬрдирд╛', 'рдкреАрдХ рдЯрд┐рдкрд╛']
        }
      }
    };

    function initWelcomeScreen() {
      const t = translations[currentLanguage];
      const welcomeScreen = document.getElementById('welcomeScreen');
      
      welcomeScreen.innerHTML = `
        <div class="welcome-icon">
          <i class="fas fa-seedling"></i>
        </div>
        <div class="welcome-text">
          <h2>${t.welcomeTitle}</h2>
          <p>${t.welcomeDesc}</p>
        </div>
        <div class="feature-cards">
          ${t.features.map(feature => `
            <div class="feature-card" onclick="handleFeatureClick('${feature.query}')">
              <div class="feature-icon">
                <i class="fas fa-${feature.icon}"></i>
              </div>
              <h3>${feature.title}</h3>
              <p>${feature.desc}</p>
            </div>
          `).join('')}
        </div>
      `;
    }

    function initSuggestions() {
      const t = translations[currentLanguage];
      const suggestionsContainer = document.getElementById('suggestionsContainer');
      const suggestionsTitle = document.getElementById('suggestionsTitle');
      
      suggestionsTitle.textContent = t.suggestionsTitle;
      suggestionsContainer.innerHTML = t.suggestions.map(s => `
        <div class="suggestion-chip" onclick="handleSuggestionClick('${s.query}')">
          <i class="fas fa-${s.icon}"></i> ${s.text}
        </div>
      `).join('');
    }

    function changeLanguage(lang) {
      currentLanguage = lang;
      const t = translations[lang];
      
      document.getElementById('botTitle').textContent = t.botTitle;
      document.getElementById('botStatus').textContent = t.botStatus;
      document.getElementById('chatInput').placeholder = t.inputPlaceholder;
      
      document.querySelectorAll('.language-option').forEach(opt => {
        opt.classList.remove('selected');
      });
      event.target.closest('.language-option').classList.add('selected');
      
      toggleLanguageDropdown();
      
      if (messageCount === 0) {
        initWelcomeScreen();
      }
      
      initSuggestions();
    }

    function toggleLanguageDropdown() {
      const dropdown = document.getElementById('languageDropdown');
      dropdown.classList.toggle('active');
    }

    function handleFeatureClick(query) {
      document.getElementById('chatInput').value = query;
      sendMessage();
    }

    function handleSuggestionClick(query) {
      document.getElementById('chatInput').value = query;
      sendMessage();
    }

    function clearChat() {
      if (confirm('Are you sure you want to clear the chat?')) {
        messageCount = 0;
        const chatMessages = document.getElementById('chatMessages');
        chatMessages.innerHTML = '<div class="welcome-screen" id="welcomeScreen"></div>';
        initWelcomeScreen();
        document.getElementById('suggestionsArea').style.display = 'none';
      }
    }

    function toggleInfo() {
      alert('AgriBot v1.0\n\nYour intelligent farming assistant powered by AI.\n\nFeatures:\nтАв Multi-language support\nтАв Government schemes info\nтАв Pest control guidance\nтАв Market updates\nтАв Organic farming tips');
    }

    function getTimeString() {
      const now = new Date();
      return now.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' });
    }

    function addMessage(text, isUser, quickReplies = []) {
      const chatMessages = document.getElementById('chatMessages');
      const welcomeScreen = document.getElementById('welcomeScreen');
      
      if (welcomeScreen) {
        welcomeScreen.remove();
      }

      const messageDiv = document.createElement('div');
      messageDiv.className = `message ${isUser ? 'user' : 'bot'}`;
      
      messageDiv.innerHTML = `
        <div class="message-avatar">${isUser ? 'ЁЯСд' : 'ЁЯдЦ'}</div>
        <div class="message-content">
          <div class="message-bubble">${text}</div>
          <div class="message-time">${getTimeString()}</div>
          ${quickReplies.length > 0 ? `
            <div class="quick-replies">
              ${quickReplies.map(reply => `
                <button class="quick-reply-btn" onclick="handleQuickReply('${reply}')">${reply}</button>
              `).join('')}
            </div>
          ` : ''}
        </div>
      `;
      
      chatMessages.appendChild(messageDiv);
      chatMessages.scrollTop = chatMessages.scrollHeight;
      
      if (messageCount === 0) {
        document.getElementById('suggestionsArea').style.display = 'block';
      }
      messageCount++;
    }

    function showTypingIndicator() {
      const chatMessages = document.getElementById('chatMessages');
      const typingDiv = document.createElement('div');
      typingDiv.className = 'message bot';
      typingDiv.id = 'typingIndicator';
      
      typingDiv.innerHTML = `
        <div class="message-avatar">ЁЯдЦ</div>
        <div class="message-content">
          <div class="typing-indicator">
            <div class="typing-dot"></div>
            <div class="typing-dot"></div>
            <div class="typing-dot"></div>
          </div>
        </div>
      `;
      
      chatMessages.appendChild(typingDiv);
      chatMessages.scrollTop = chatMessages.scrollHeight;
    }

    function removeTypingIndicator() {
      const typingIndicator = document.getElementById('typingIndicator');
      if (typingIndicator) {
        typingIndicator.remove();
      }
    }

    function getBotResponse(userMessage) {
      const message = userMessage.toLowerCase();
      const lang = currentLanguage;
      const r = responses[lang];
      
      if (message.includes('organic') || message.includes('рдЬреИрд╡рд┐рдХ') || message.includes('рд╕реЗрдВрджреНрд░рд┐рдп')) {
        return r.organic;
      } else if (message.includes('government') || message.includes('scheme') || message.includes('рд╕рд░рдХрд╛рд░') || message.includes('рдпреЛрдЬрдирд╛')) {
        return r.government;
      } else if (message.includes('pest') || message.includes('рдХреАрдЯ') || message.includes('рдХреАрдЯрдХ')) {
        return r.pest;
      } else if (message.includes('hello') || message.includes('hi') || message.includes('рдирдорд╕реНрддреЗ') || message.includes('рдирдорд╕реНрдХрд╛рд░')) {
        return r.hello;
      } else if (message.includes('thank') || message.includes('рдзрдиреНрдпрд╡рд╛рдж')) {
        return r.thanks;
      } else {
        return {
          text: lang === 'en' 
            ? `I understand you're asking about "${userMessage}". I can help you with:<br>
               ЁЯМ╛ Organic farming techniques<br>
               ЁЯПЫя╕П Government schemes & subsidies<br>
               ЁЯРЫ Pest control methods<br>
               ЁЯТ░ Market prices & trends<br>
               ЁЯТз Irrigation systems<br><br>
               What would you like to know more about?`
            : lang === 'hi'
            ? `рдореИрдВ рд╕рдордЭрддрд╛ рд╣реВрдВ рдХрд┐ рдЖрдк "${userMessage}" рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдкреВрдЫ рд░рд╣реЗ рд╣реИрдВред рдореИрдВ рдЖрдкрдХреА рдорджрдж рдХрд░ рд╕рдХрддрд╛ рд╣реВрдВ:<br>
               ЁЯМ╛ рдЬреИрд╡рд┐рдХ рдЦреЗрддреА рддрдХрдиреАрдХ<br>
               ЁЯПЫя╕П рд╕рд░рдХрд╛рд░реА рдпреЛрдЬрдирд╛рдПрдВ рдФрд░ рд╕рдмреНрд╕рд┐рдбреА<br>
               ЁЯРЫ рдХреАрдЯ рдирд┐рдпрдВрддреНрд░рдг рд╡рд┐рдзрд┐рдпрд╛рдВ<br>
               ЁЯТ░ рдмрд╛рдЬрд╛рд░ рдореВрд▓реНрдп рдФрд░ рд░реБрдЭрд╛рди<br>
               ЁЯТз рд╕рд┐рдВрдЪрд╛рдИ рдкреНрд░рдгрд╛рд▓реА<br><br>
               рдЖрдк рдХрд┐рд╕ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рдХ рдЬрд╛рдирдирд╛ рдЪрд╛рд╣реЗрдВрдЧреЗ?`
            : `рдорд▓рд╛ рд╕рдордЬрд▓реЗ рдХреА рддреБрдореНрд╣реА "${userMessage}" рдмрджреНрджрд▓ рд╡рд┐рдЪрд╛рд░рдд рдЖрд╣рд╛рддред рдореА рддреБрдореНрд╣рд╛рд▓рд╛ рдорджрдд рдХрд░реВ рд╢рдХрддреЛ:<br>
               ЁЯМ╛ рд╕реЗрдВрджреНрд░рд┐рдп рд╢реЗрддреА рддрдВрддреНрд░<br>
               ЁЯПЫя╕П рд╕рд░рдХрд╛рд░реА рдпреЛрдЬрдирд╛ рдЖрдгрд┐ рдЕрдиреБрджрд╛рди<br>
               ЁЯРЫ рдХреАрдЯрдХ рдирд┐рдпрдВрддреНрд░рдг рдкрджреНрдзрддреА<br>
               ЁЯТ░ рдмрд╛рдЬрд╛рд░ рдХрд┐рдВрдорддреА рдЖрдгрд┐ рдЯреНрд░реЗрдВрдб<br>
               ЁЯТз рд╕рд┐рдВрдЪрди рдкреНрд░рдгрд╛рд▓реА<br><br>
               рддреБрдореНрд╣рд╛рд▓рд╛ рдХрд╢рд╛рдмрджреНрджрд▓ рдЕрдзрд┐рдХ рдЬрд╛рдгреВрди рдШреНрдпрд╛рдпрдЪреЗ рдЖрд╣реЗ?`,
          quickReplies: lang === 'en' 
            ? ['Organic farming', 'Government schemes', 'Pest control']
            : lang === 'hi'
            ? ['рдЬреИрд╡рд┐рдХ рдЦреЗрддреА', 'рд╕рд░рдХрд╛рд░реА рдпреЛрдЬрдирд╛рдПрдВ', 'рдХреАрдЯ рдирд┐рдпрдВрддреНрд░рдг']
            : ['рд╕реЗрдВрджреНрд░рд┐рдп рд╢реЗрддреА', 'рд╕рд░рдХрд╛рд░реА рдпреЛрдЬрдирд╛', 'рдХреАрдЯрдХ рдирд┐рдпрдВрддреНрд░рдг']
        };
      }
    }

    function handleQuickReply(reply) {
      document.getElementById('chatInput').value = reply;
      sendMessage();
    }

    function sendMessage() {
      const input = document.getElementById('chatInput');
      const message = input.value.trim();
      
      if (message === '') return;
      
      addMessage(message, true);
      input.value = '';
      
      showTypingIndicator();
      
      setTimeout(() => {
        removeTypingIndicator();
        const response = getBotResponse(message);
        addMessage(response.text, false, response.quickReplies || []);
      }, 1000 + Math.random() * 1000);
    }

    function handleKeyPress(event) {
      if (event.key === 'Enter') {
        sendMessage();
      }
    }

    document.addEventListener('click', function(event) {
      const dropdown = document.getElementById('languageDropdown');
      const langBtn = event.target.closest('.language-selector');
      
      if (!langBtn && dropdown.classList.contains('active')) {
        dropdown.classList.remove('active');
      }
    });

    window.onload = function() {
      initWelcomeScreen();
      initSuggestions();
    };
  </script>
</body>
</html>