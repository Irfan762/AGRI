<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Farmer Future Demand Predictor</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body class="bg-gradient-to-br from-green-50 to-emerald-100 min-h-screen">
    <div class="container mx-auto px-4 py-8">
        <!-- Header -->
        <div class="bg-white rounded-2xl shadow-xl p-6 mb-6">
            <h1 class="text-4xl font-bold text-green-800 mb-2">üåæ Farmer Future Demand Predictor</h1>
            <p class="text-gray-600">Predict crop demand and make informed farming decisions</p>
        </div>

        <div class="grid md:grid-cols-2 gap-6">
            <!-- Input Section -->
            <div class="bg-white rounded-2xl shadow-xl p-6">
                <h2 class="text-2xl font-bold text-green-700 mb-4">üìä Input Data</h2>
                
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-semibold text-gray-700 mb-2">Select Crop</label>
                        <select id="cropSelect" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent">
                            <option value="wheat">üåæ Wheat</option>
                            <option value="rice">üçö Rice</option>
                            <option value="corn">üåΩ Corn</option>
                            <option value="soybean">ü´ò Soybean</option>
                            <option value="cotton">‚òÅÔ∏è Cotton</option>
                            <option value="potato">ü•î Potato</option>
                        </select>
                    </div>

                    <div>
                        <label class="block text-sm font-semibold text-gray-700 mb-2">Season</label>
                        <select id="seasonSelect" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent">
                            <option value="spring">üå∏ Spring</option>
                            <option value="summer">‚òÄÔ∏è Summer</option>
                            <option value="autumn">üçÇ Autumn</option>
                            <option value="winter">‚ùÑÔ∏è Winter</option>
                        </select>
                    </div>

                    <div>
                        <label class="block text-sm font-semibold text-gray-700 mb-2">Region</label>
                        <select id="regionSelect" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent">
                            <option value="north">North</option>
                            <option value="south">South</option>
                            <option value="east">East</option>
                            <option value="west">West</option>
                            <option value="central">Central</option>
                        </select>
                    </div>

                    <div>
                        <label class="block text-sm font-semibold text-gray-700 mb-2">Current Market Price (‚Çπ/kg)</label>
                        <input type="number" id="priceInput" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent" value="25" min="1">
                    </div>

                    <div>
                        <label class="block text-sm font-semibold text-gray-700 mb-2">Population Growth (%)</label>
                        <input type="range" id="populationGrowth" class="w-full" min="0" max="5" step="0.1" value="1.5">
                        <span id="popGrowthValue" class="text-sm text-gray-600">1.5%</span>
                    </div>

                    <button onclick="predictDemand()" class="w-full bg-gradient-to-r from-green-600 to-emerald-600 text-white font-bold py-3 px-6 rounded-lg hover:from-green-700 hover:to-emerald-700 transition duration-300 shadow-lg">
                        üîÆ Predict Demand
                    </button>
                </div>
            </div>

            <!-- Results Section -->
            <div class="bg-white rounded-2xl shadow-xl p-6">
                <h2 class="text-2xl font-bold text-green-700 mb-4">üìà Prediction Results</h2>
                
                <div id="resultsContainer" class="space-y-4">
                    <div class="bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg p-4 border-l-4 border-green-500">
                        <p class="text-sm text-gray-600 mb-1">Expected Demand (Next Season)</p>
                        <p id="demandResult" class="text-3xl font-bold text-green-700">-- tons</p>
                    </div>

                    <div class="bg-gradient-to-r from-blue-50 to-cyan-50 rounded-lg p-4 border-l-4 border-blue-500">
                        <p class="text-sm text-gray-600 mb-1">Predicted Price Range</p>
                        <p id="priceResult" class="text-3xl font-bold text-blue-700">‚Çπ-- - ‚Çπ--</p>
                    </div>

                    <div class="bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg p-4 border-l-4 border-purple-500">
                        <p class="text-sm text-gray-600 mb-1">Market Trend</p>
                        <p id="trendResult" class="text-2xl font-bold text-purple-700">--</p>
                    </div>

                    <div class="bg-gradient-to-r from-yellow-50 to-orange-50 rounded-lg p-4 border-l-4 border-yellow-500">
                        <p class="text-sm text-gray-600 mb-1">Recommendation</p>
                        <p id="recommendationResult" class="text-sm text-gray-800 leading-relaxed">Click "Predict Demand" to get recommendations</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Chart Section -->
        <div class="bg-white rounded-2xl shadow-xl p-6 mt-6">
            <h2 class="text-2xl font-bold text-green-700 mb-4">üìä Demand Forecast Trend</h2>
            <canvas id="demandChart"></canvas>
        </div>

        <!-- Additional Insights -->
        <div class="grid md:grid-cols-3 gap-6 mt-6">
            <div class="bg-white rounded-2xl shadow-xl p-6">
                <div class="flex items-center mb-3">
                    <span class="text-3xl mr-3">üå§Ô∏è</span>
                    <h3 class="text-lg font-bold text-gray-800">Weather Impact</h3>
                </div>
                <p id="weatherImpact" class="text-sm text-gray-600">Favorable conditions expected</p>
            </div>

            <div class="bg-white rounded-2xl shadow-xl p-6">
                <div class="flex items-center mb-3">
                    <span class="text-3xl mr-3">üí∞</span>
                    <h3 class="text-lg font-bold text-gray-800">Profit Margin</h3>
                </div>
                <p id="profitMargin" class="text-sm text-gray-600">Calculate demand first</p>
            </div>

            <div class="bg-white rounded-2xl shadow-xl p-6">
                <div class="flex items-center mb-3">
                    <span class="text-3xl mr-3">‚ö†Ô∏è</span>
                    <h3 class="text-lg font-bold text-gray-800">Risk Level</h3>
                </div>
                <p id="riskLevel" class="text-sm text-gray-600">Predict to see risk analysis</p>
            </div>
        </div>
    </div>

    <script>
        let demandChart = null;

        // Update population growth display
        document.getElementById('populationGrowth').addEventListener('input', function(e) {
            document.getElementById('popGrowthValue').textContent = e.target.value + '%';
        });

        // Crop demand base data (in tons)
        const cropBaseData = {
            wheat: { base: 5000, volatility: 0.15, priceBase: 25 },
            rice: { base: 7000, volatility: 0.12, priceBase: 30 },
            corn: { base: 4500, volatility: 0.18, priceBase: 20 },
            soybean: { base: 3000, volatility: 0.20, priceBase: 45 },
            cotton: { base: 2500, volatility: 0.22, priceBase: 60 },
            potato: { base: 6000, volatility: 0.14, priceBase: 15 }
        };

        // Season multipliers
        const seasonMultipliers = {
            spring: 1.1,
            summer: 0.9,
            autumn: 1.15,
            winter: 0.95
        };

        // Region multipliers
        const regionMultipliers = {
            north: 1.0,
            south: 1.1,
            east: 0.95,
            west: 1.05,
            central: 1.0
        };

        function predictDemand() {
            const crop = document.getElementById('cropSelect').value;
            const season = document.getElementById('seasonSelect').value;
            const region = document.getElementById('regionSelect').value;
            const currentPrice = parseFloat(document.getElementById('priceInput').value);
            const popGrowth = parseFloat(document.getElementById('populationGrowth').value);

            const cropData = cropBaseData[crop];
            
            // Calculate demand
            const seasonMult = seasonMultipliers[season];
            const regionMult = regionMultipliers[region];
            const growthMult = 1 + (popGrowth / 100);
            const randomFactor = 1 + (Math.random() * 0.1 - 0.05);
            
            const predictedDemand = Math.round(cropData.base * seasonMult * regionMult * growthMult * randomFactor);

            // Calculate price range
            const priceChange = (Math.random() * 0.3 - 0.1);
            const priceLow = Math.round(currentPrice * (1 + priceChange - 0.1));
            const priceHigh = Math.round(currentPrice * (1 + priceChange + 0.1));

            // Determine trend
            const trendValue = priceChange > 0.05 ? 'üìà Increasing' : priceChange < -0.05 ? 'üìâ Decreasing' : '‚û°Ô∏è Stable';

            // Generate recommendation
            let recommendation = '';
            if (priceChange > 0.1) {
                recommendation = `Strong demand expected! Consider increasing ${crop} cultivation by 15-20%. Market conditions are favorable for higher profits.`;
            } else if (priceChange > 0) {
                recommendation = `Moderate growth expected. Maintain current ${crop} cultivation levels. Good season for steady returns.`;
            } else if (priceChange > -0.1) {
                recommendation = `Stable market. ${crop} cultivation can continue as planned. Consider diversifying with complementary crops.`;
            } else {
                recommendation = `Lower demand predicted. Consider reducing ${crop} cultivation or switching to alternative crops with better prospects.`;
            }

            // Update results
            document.getElementById('demandResult').textContent = `${predictedDemand.toLocaleString()} tons`;
            document.getElementById('priceResult').textContent = `‚Çπ${priceLow} - ‚Çπ${priceHigh}`;
            document.getElementById('trendResult').textContent = trendValue;
            document.getElementById('recommendationResult').textContent = recommendation;

            // Weather impact
            const weatherConditions = ['Favorable', 'Moderate', 'Challenging'];
            const weatherStatus = weatherConditions[Math.floor(Math.random() * 3)];
            document.getElementById('weatherImpact').textContent = `${weatherStatus} conditions expected for ${season} season`;

            // Profit margin
            const profitPercentage = ((priceHigh - cropData.priceBase) / cropData.priceBase * 100).toFixed(1);
            document.getElementById('profitMargin').textContent = `Estimated ${profitPercentage}% profit margin potential`;

            // Risk level
            const riskLevels = ['Low', 'Moderate', 'High'];
            const volatilityIndex = Math.floor(cropData.volatility * 10);
            const riskLevel = riskLevels[Math.min(volatilityIndex % 3, 2)];
            const riskColors = { Low: 'text-green-600', Moderate: 'text-yellow-600', High: 'text-red-600' };
            document.getElementById('riskLevel').innerHTML = `<span class="font-bold ${riskColors[riskLevel]}">${riskLevel} Risk</span> - Volatility: ${(cropData.volatility * 100).toFixed(0)}%`;

            // Update chart
            updateChart(crop, predictedDemand, cropData.base);
        }

        function updateChart(crop, predicted, base) {
            const ctx = document.getElementById('demandChart').getContext('2d');
            
            // Generate historical and future data
            const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
            const historicalData = [];
            const futureData = [];
            
            for (let i = 0; i < 6; i++) {
                historicalData.push(Math.round(base * (0.9 + Math.random() * 0.2)));
            }
            
            for (let i = 0; i < 6; i++) {
                futureData.push(Math.round(predicted * (0.95 + Math.random() * 0.1)));
            }

            if (demandChart) {
                demandChart.destroy();
            }

            demandChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: months,
                    datasets: [{
                        label: 'Historical Demand (tons)',
                        data: [...historicalData, null, null, null, null, null, null],
                        borderColor: 'rgb(34, 197, 94)',
                        backgroundColor: 'rgba(34, 197, 94, 0.1)',
                        tension: 0.4,
                        fill: true
                    }, {
                        label: 'Predicted Demand (tons)',
                        data: [null, null, null, null, null, null, ...futureData],
                        borderColor: 'rgb(59, 130, 246)',
                        backgroundColor: 'rgba(59, 130, 246, 0.1)',
                        borderDash: [5, 5],
                        tension: 0.4,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            display: true,
                            position: 'top'
                        },
                        title: {
                            display: true,
                            text: `${crop.charAt(0).toUpperCase() + crop.slice(1)} Demand Forecast`
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: false,
                            ticks: {
                                callback: function(value) {
                                    return value.toLocaleString() + ' tons';
                                }
                            }
                        }
                    }
                }
            });
        }

        // Initialize with default prediction
        window.addEventListener('load', () => {
            predictDemand();
        });
    </script>
</body>
</html>